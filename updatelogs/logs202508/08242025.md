# 8/24/2025 - 18th Update!

back at it again! currently 6:05 PM in nyc!

ok, testing the elevator positions right now, i dont exactly think the elevator should be flying off right now? turns out, the arm position is nicely half a rotation off, so thats a faster fix!

hmm, divided the height by 1.5, seems to make the number work better now? probably because of our cursed elevator double pid setup, but yeah, L4 seems realistic for the positions and such!

ok, so before i was planning on a giant `if elif else` statement to do all the state logic and setting stuff, but turns out yesterday i had a nice idea called "have a dictionary that has all the states and stuff so the code looks better", so gotta clean up what i just wrote oops

ok, the `STATE_POSITIONS` is pretty much ready to be implemented! each state just has a list of 5 things that describe the state of the ground intake raised, ground intake roller direction, the elevator position, the arm position, and the arm roller directions! of course, these are in their "respective" units, just cleaner to convert them in the other script than here! should also make it pretty easy to change what each state does and adding new ones! also, `"idc"` in the state means that we should interpret it as "dont change, this state doesnt care about what was happening"! not sure if this will come useful, but whatever!

ok, 6:51 PM, off to dinner! in the meantime, here's a commit!

back at 10:38 PM, and no, of course, i did not eat dinner for 4 hours, i did other stuff! ok, its been 10 minutes, and just added the theoretical code for this! not sure if the arm rollers (as in, the rollers on the end effector) are rolling the right way, but we'll see during testing! ok, gonna put in some "commands", and map some buttons to start testing!

also, note about yesterday, ignore the fact that i messed up where the buttons were oops, Y should be L4, X should be L3, B should be L2, and A should be L1, oops!

ok, seems to be working! now, just gotta add all the logic... also, it'd be nice if i finally approached the issue that the robot always goes max speed in any direction

ok! translating speed should now depend on the joystick, and rotating too! (rotating is just raised to the power of 2 while keeping the sign, so it should still turn the right way!) ok, yep, back to adding logic

hmm, so elevator positions for L4 and L3, and sure, L2, look right, but transfering the coral from ground intake to arm position looks funny. also, the arm seems to be looping over from `0` radians to `2PI` radians, which causes the PID controller to repeatedly try to fix the issue and making the arm go nuts. could probably be easily fixed by just tracking velocity and occasionally syncing the two numbers.

also, this elevator pid is more aggressive than my driving, surprisingly.

ok, XYB (and technically A) and right trigger working as expected!

ok, so is it a good idea to automate the entire handoff/transfer process? probably.

ok, its been like 30 minutes of me trying to decrease my heart rate, but yeah, back at 12:03 AM! good news! the intaking logic seems to be working! bad news! the elevator position for transfering the coral seems to be wrong! gonna check the numbers again!

yeah i might need to add feedforward. hey, i have a better idea! nah, turning off gravity is probably a bad idea. or is it... ok, so i got rid of gravity for the elevator, sorry, just way easier than compensating for gravity... wait a second, isnt that just... anyways, ignoring that, the elevator is moving correctly! also, dividing the height by 2 was the correct move, not 1.5, so theres that!

ok, ive decided that we need an extra button to tell the coral to jump up!

so idk why, but the arm detector REALLY doesnt want to pick up the coral.

ok, its 1 AM now, here's a picture!

![yay](</updatelogs/images/202508/08242025 - 1.png>)

yeah, so, ignore the cylinder, thats just showing where the arm detector is (it is still not taking it...) anyways, yeah, that's it! probably gonna finish working on this, then figure out how to do the reef stuff, and yeah! ok, good night!